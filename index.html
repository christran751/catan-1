<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>CATAN LEADERBOARD ‚Äî Total Wins Only</title>
<style>
:root {
  --bg-overlay: rgba(255,255,255,0.88);
  --dark:#5b3b2a;
  --gold:#d9a35e;
  --accent:#e6b86b;
  --serif: 'Times New Roman', Georgia, serif;
}
html { scroll-behavior: smooth; }

/* Body setup */
body {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 28px;
  min-height: 100vh;
  margin: 0;
  background-image: url('5cf205c9-fa25-4712-98c0-0c538c11987d.png');
  background-position: center 60%;
  background-size: 100% auto;
  background-attachment: fixed;
  background-color: #efe0c8;
  animation: floatBg 20s ease-in-out infinite;
  position: relative;
  overflow: hidden;
}

@keyframes floatBg {
  0% { background-position: center 60%; }
  50% { background-position: center 65%; }
  100% { background-position: center 60%; }
}

body::before {
  content: "";
  position: fixed;
  top:0; left:0; right:0; bottom:0;
  background: rgba(0,0,0,0.15);
  pointer-events:none;
  z-index:0;
}

body::after {
  content:"";
  position: fixed;
  top:0; left:0; right:0; bottom:0;
  background: radial-gradient(circle, rgba(0,0,0,0) 70%, rgba(0,0,0,0.25) 100%);
  pointer-events:none;
  z-index:1;
}

h1, p { text-shadow: 0 0 10px rgba(0,0,0,0.5); position: relative; z-index:2; }

body:hover { background-size: 110% auto; transition: background-size 2s ease; }

.card {
  width:100%;
  max-width:980px;
  background:linear-gradient(180deg,var(--bg-overlay),rgba(255,255,255,0.95));
  border:6px solid var(--dark);
  box-shadow:0 8px 30px rgba(0,0,0,0.28);
  border-radius:12px;
  overflow:hidden;
  position:relative;
}

header {
  background:linear-gradient(90deg,var(--gold),var(--accent));
  color:var(--dark);
  padding:26px 28px;
  display:flex;
  align-items:center;
  gap:18px;
}

.hex {
  width:92px; height:78px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:linear-gradient(180deg,#f6e0b8,#e6c384);
  clip-path: polygon(25% 6%,75% 6%,100% 50%,75% 94%,25% 94%,0% 50%);
  border:3px solid rgba(0,0,0,0.12);
  font-weight:700;
  color:var(--dark);
  font-size:14px;
}

h1 { margin:0; font-size:28px; letter-spacing:2px; }
.subtitle { font-size:13px; color:rgba(0,0,0,0.55); margin-top:6px; }
main { padding:18px 24px 30px; position:relative; }

table {
  width:100%;
  border-collapse:collapse;
  background:transparent;
  border-radius:8px;
  overflow:hidden;
}

thead th {
  background:linear-gradient(180deg,var(--dark),#3c2718);
  color:#fff;
  font-family:var(--serif);
  padding:12px 10px;
  text-align:left;
  font-size:14px;
}

tbody td {
  padding:12px 10px;
  border-bottom:1px solid rgba(0,0,0,0.06);
  font-size:14px;
  color:var(--dark);
  background:rgba(255,255,255,0.85);
}

tbody tr:last-child td { border-bottom:none; }

.name { width:22%; font-weight:700; }
.center { text-align:center; width:9%; }
td[contenteditable] { outline:none; min-width:48px; }
td[contenteditable]:focus { box-shadow: inset 0 0 0 2px rgba(0,0,0,0.06); backdrop-filter: blur(2px); }
tfoot td { padding:12px 10px; font-weight:700; background:rgba(230,184,123,0.9); }

.controls { display:flex; gap:10px; align-items:center; margin-top:14px; }
button { background:var(--dark); color:#fff; border:none; padding:9px 14px; border-radius:6px; cursor:pointer; font-weight:700; }
.muted { background:transparent; color:var(--dark); border:1px solid rgba(0,0,0,0.08); padding:9px 12px; }
.notes { font-size:12px; color:rgba(0,0,0,0.6); margin-top:10px; }

.total-wins { background: rgba(240,230,200,0.95); font-weight:700; }

.player-name { position: relative; cursor:pointer; color:#f0c060; }
.player-name img { width:45px; height:45px; border-radius:50%; object-fit:cover; margin-left:10px; vertical-align:middle; }

tbody tr.gold td:first-child::before { content:"üèÜ "; }
tbody tr.silver td:first-child::before { content:"ü•à "; }
tbody tr.bronze td:first-child::before { content:"ü•â "; }

tbody tr.gold td { font-weight:700; background: linear-gradient(90deg,#fff8d0,#f5e6a0); }
tbody tr.silver td { font-weight:700; background: linear-gradient(90deg,#e0e0e0,#c8c8c8); }
tbody tr.bronze td { font-weight:700; background: linear-gradient(90deg,#f0d8b0,#e6b780); }

/* Responsive Breakpoints */
@media (max-width:720px){
  .card { margin:0 8px; }
  h1 { font-size:20px; }
  .hex { width:64px; height:56px; }
  thead th { font-size:12px; }
  tbody td { font-size:13px; }
  .controls { flex-direction:column; align-items:stretch; }
  .player-name img { width:35px; height:35px; }
}

@media (max-width:480px){
  h1 { font-size:18px; }
  .hex { width:50px;height:40px; font-size:12px; }
  tbody td { font-size:12px; padding:8px; display:block; width:100%; text-align:right; position:relative; }
  tbody td::before { position:absolute; left:10px; width:45%; text-align:left; font-weight:700; }
  .player-name img { width:30px; height:30px; margin-left:6px; }
  .controls { flex-direction:column; gap:6px; }
  thead { display:none; }
}
</style>
</head>
<body>
<div class="card" role="main" aria-label="Catan Leaderboard">
<header>
  <div class="hex">CATAN</div>
  <div><h1>CATAN LEADERBOARD</h1></div>
</header>
<main>
  <table id="leaderboard" aria-describedby="desc">
    <thead>
      <tr>
        <th>Player Name</th>
        <th class="center">Catan</th>
        <th class="center">Catan + Seafarers</th>
        <th class="center">Catan + C&amp;K</th>
        <th class="center">Catan + Seafarers &amp; C&amp;K</th>
        <th class="center">Game of Thrones Catan</th>
        <th class="center">Settlers of America</th>
        <th class="center">Total Wins</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="name" contenteditable="true" data-label="Player Name">Chris</td>
        <td class="center" contenteditable="true" data-label="Catan">0</td>
        <td class="center" contenteditable="true" data-label="Catan + Seafarers">0</td>
        <td class="center" contenteditable="true" data-label="Catan + C&K">0</td>
        <td class="center" contenteditable="true" data-label="Catan + Seafarers & C&K">0</td>
        <td class="center" contenteditable="true" data-label="Game of Thrones Catan">0</td>
        <td class="center" contenteditable="true" data-label="Settlers of America">0</td>
        <td class="center total-wins" data-label="Total Wins">0</td>
      </tr>
      <tr>
        <td class="name" contenteditable="true" data-label="Player Name">Beth</td>
        <td class="center" contenteditable="true" data-label="Catan">0</td>
        <td class="center" contenteditable="true" data-label="Catan + Seafarers">0</td>
        <td class="center" contenteditable="true" data-label="Catan + C&K">0</td>
        <td class="center" contenteditable="true" data-label="Catan + Seafarers & C&K">0</td>
        <td class="center" contenteditable="true" data-label="Game of Thrones Catan">0</td>
        <td class="center" contenteditable="true" data-label="Settlers of America">0</td>
        <td class="center total-wins" data-label="Total Wins">0</td>
      </tr>
      <tr>
        <td class="name" contenteditable="true" data-label="Player Name">Nick</td>
        <td class="center" contenteditable="true" data-label="Catan">0</td>
        <td class="center" contenteditable="true" data-label="Catan + Seafarers">0</td>
        <td class="center" contenteditable="true" data-label="Catan + C&K">0</td>
        <td class="center" contenteditable="true" data-label="Catan + Seafarers & C&K">0</td>
        <td class="center" contenteditable="true" data-label="Game of Thrones Catan">0</td>
        <td class="center" contenteditable="true" data-label="Settlers of America">0</td>
        <td class="center total-wins" data-label="Total Wins">0</td>
      </tr>
      <tr>
        <td class="name" contenteditable="true" data-label="Player Name">Adam</td>
        <td class="center" contenteditable="true" data-label="Catan">0</td>
        <td class="center" contenteditable="true" data-label="Catan + Seafarers">0</td>
        <td class="center" contenteditable="true" data-label="Catan + C&K">0</td>
        <td class="center" contenteditable="true" data-label="Catan + Seafarers & C&K">0</td>
        <td class="center" contenteditable="true" data-label="Game of Thrones Catan">0</td>
        <td class="center" contenteditable="true" data-label="Settlers of America">0</td>
        <td class="center total-wins" data-label="Total Wins">0</td>
      </tr>
    </tbody>
  </table>

  <div class="controls" role="region" aria-label="controls">
    <button id="recalc">Calculate Totals</button>
    <button id="clear" class="muted">Clear Scores</button>
  </div>
  <p id="last-updated" class="notes">Last updated: never</p>
</main>
</div>

<script>
// JS remains unchanged
function toNumText(s) { if(!s) return 0; s=String(s).trim().replace(/[^0-9\-\.]/g,''); const n=parseFloat(s); return isNaN(n)?0:n; }
function recalc(){
  const tbody=document.querySelector('#leaderboard tbody');
  const rows=Array.from(tbody.querySelectorAll('tr'));
  rows.forEach(row=>{
    const cells=Array.from(row.querySelectorAll('td'));
    let rowWins=0;
    for(let c=1;c<=6;c++) rowWins+=toNumText(cells[c].innerText);
    row.querySelector('.total-wins').innerText=rowWins;
  });
  rows.sort((a,b)=>toNumText(b.querySelector('.total-wins').innerText)-toNumText(a.querySelector('.total-wins').innerText));
  rows.forEach(row=>row.classList.remove('gold','silver','bronze','leader'));
  rows.forEach((row,i)=>{
    tbody.appendChild(row);
    if(i===0) row.classList.add('gold','leader');
    else if(i===1) row.classList.add('silver');
    else if(i===2) row.classList.add('bronze');
  });
  document.getElementById('last-updated').textContent=`Last updated: ${new Date().toLocaleTimeString()}`;
}
function saveTable(){
  const table=document.querySelector("table");
  const cells=table.querySelectorAll("td[contenteditable='true']");
  const data=Array.from(cells).map(cell=>cell.textContent);
  localStorage.setItem("catanScores",JSON.stringify(data));
}
window.addEventListener("load",()=>{
  const table=document.querySelector("table");
  const savedData=JSON.parse(localStorage.getItem("catanScores"))||[];
  const cells=table.querySelectorAll("td[contenteditable='true']");
  cells.forEach((cell,index)=>{ if(savedData[index]) cell.textContent=savedData[index]; });
  recalc();
});
document.querySelectorAll('#leaderboard td[contenteditable]').forEach(cell=>{
  cell.addEventListener('input',()=>{ saveTable(); recalc(); });
  cell.addEventListener('blur',()=>{ saveTable(); recalc(); });
});
document.getElementById('clear').addEventListener('click',()=>{
  document.querySelectorAll('#leaderboard tbody tr').forEach(row=>{
    const scoreCells=row.querySelectorAll('td.center[contenteditable="true"]');
    scoreCells.forEach(cell=>cell.textContent='0');
  });
  saveTable(); recalc();
});
document.getElementById('recalc').addEventListener('click',recalc);
</script>
</body>
</html>
